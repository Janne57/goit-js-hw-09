{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,eAAgBC,SAASC,cAAc,SACvCC,aAAcF,SAASC,cAAc,SAASE,UAKhD,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAE3BC,YAAW,KACaC,KAAKC,SAAW,GAGpCJ,EAAQ,C,SAACH,E,MAAUC,IAEnBG,EAAO,C,SAACJ,E,MAAUC,GAAO,GAE1BA,EAAM,G,CAbbR,EAAKC,eAAec,iBAAiB,UAmBrC,SAAmBC,GACnBA,EAAMC,iBAEN,IAAIC,EAAQC,OAAOnB,EAAKI,aAAoB,MAAEgB,OAC9C,MAAMC,EAAOF,OAAOnB,EAAKI,aAAmB,KAAEgB,OACxCb,EAAWY,OAAOnB,EAAKI,aAAqB,OAAEgB,QAEpD,WACM,IAAK,IAAIE,EAAI,EAAGA,GAAKf,EAAUe,GAAK,EAElChB,EAAcgB,EAAGJ,GACdK,MAAK,EAAChB,SAAEA,EAAQC,MAAEA,MACjBgB,EAAA1B,GAAS2B,OAAOC,KAAM,uBAAqBJ,QAAUd,MAAU,IAEhEmB,OAAM,EAACpB,SAAEA,EAAQC,MAAEA,MAClBgB,EAAA1B,GAAS2B,OAAOG,QAAS,sBAAoBN,QAAQd,MAAU,IAEnEU,GAASG,C,CAIjBQ,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  formCreateProm: document.querySelector('.form'),\n  formElements: document.querySelector('.form').elements,\n}\n\nrefs.formCreateProm.addEventListener('submit', onSubmit);\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n     \n      if (shouldResolve) {\n        resolve({position, delay});\n      } else {\n        reject({position, delay});\n      }\n    }, delay);\n\n  });\n};\n\n\nfunction  onSubmit(event) {\nevent.preventDefault();\n\nlet delay = Number(refs.formElements['delay'].value);\nconst step = Number(refs.formElements['step'].value);\nconst position = Number(refs.formElements['amount'].value);\n\nfunction timeout(){\n      for (let i = 1; i <= position; i += 1) {\n\n        createPromise(i, delay)\n          .then(({ position, delay }) => { \n            Notiflix.Notify.info (`✅ Fulfilled promise ${i} in ${delay}ms`);\n          })\n          .catch(({ position, delay }) => {\n            Notiflix.Notify.failure (`❌ Rejected promise ${i} in ${delay}ms`);\n          });\n        delay += step;\n     }\n    }\n\ntimeout();\n};\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","formCreateProm","document","querySelector","formElements","elements","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","addEventListener","event","preventDefault","delay1","Number","value","step","i","then","$parcel$interopDefault","Notify","info","catch","failure","timeout"],"version":3,"file":"03-promises.37ac2f34.js.map"}